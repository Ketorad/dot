#!/bin/bash
# Backup chosen files or folders

today=$(date '+%Y-%m-%d')
dataFolder="$HOME/bak"

# Check if backup folder is available
if [ ! -e $dataFolder ]; then
	echo "$dataFolder not available"
else
	# Create today's backup folder if not exist
	if [ ! -e $dataFolder/$today ]; then
		mkdir $dataFolder/$today
		# delete old today link
		rm -f $dataFolder/last
		# create today link to the new today's folder
		ln -s $dataFolder/$today $dataFolder/last
	fi
fi

# Copy all files in arguments to backup folder
for var in "$@" ; do
	if [ ! -e "$var" ]; then
		echo "Error: \"$var\" not found"
	else
		echo "Backing up \"$var\" ..."
		cp -rf "$var" "$dataFolder/$today/"
		echo "... done."
	fi
done
